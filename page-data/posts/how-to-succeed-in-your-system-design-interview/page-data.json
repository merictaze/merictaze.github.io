{"componentChunkName":"component---src-templates-post-template-jsx","path":"/posts/how-to-succeed-in-your-system-design-interview/","result":{"data":{"site":{"siteMetadata":{"title":"Full Stack Software Development - MericTaze.com","subtitle":"","copyright":"© All rights reserved.","author":{"name":"Meric Taze","twitter":"#"},"disqusShortname":"","url":"https://merictaze.com"}},"allCommentsYaml":{"nodes":[]},"markdownRemark":{"id":"ff2a1a5b-6bd1-5048-9f81-2e0dc8d8856e","html":"<p>System design questions can be asked for any level with different expectations from the candidate, but to get a Senior offer, you have to rock this round. Practice makes perfect - like for anything else, it applies to system design interviews too. So, keep practicing without taking shortcuts, practice as if it’s the real interview, and always follow the same steps to make it perfect.</p>\n<p>This is based on my personal experience over the years in the interviews I conducted as well as the ones I was the candidate, which turned into a senior job offer. Feel free to adjust based on your needs.</p>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 960px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.4179104477612%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAME/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB0WhUyA//xAAZEAEBAAMBAAAAAAAAAAAAAAABABESMUL/2gAIAQEAAQUCxedSJ4t//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAFxABAQEBAAAAAAAAAAAAAAAAAQAhQf/aAAgBAQABPyEMhiW5NZVRv//aAAwDAQACAAMAAAAQsw//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAZEAEBAAMBAAAAAAAAAAAAAAABABExgSH/2gAIAQEAAT8Q1gJ3lolMoZ3kg+WAF//Z'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"cover\"\n        title=\"\"\n        src=\"/static/cff4af7722c727c875c5670ebd95fd9a/b3ee8/cover.jpg\"\n        srcset=\"/static/cff4af7722c727c875c5670ebd95fd9a/3bc27/cover.jpg 240w,\n/static/cff4af7722c727c875c5670ebd95fd9a/98431/cover.jpg 480w,\n/static/cff4af7722c727c875c5670ebd95fd9a/b3ee8/cover.jpg 960w,\n/static/cff4af7722c727c875c5670ebd95fd9a/b97fe/cover.jpg 1440w,\n/static/cff4af7722c727c875c5670ebd95fd9a/fb329/cover.jpg 1920w,\n/static/cff4af7722c727c875c5670ebd95fd9a/da876/cover.jpg 4288w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n      />\n    </span>\n  </span>\n  <figcaption>Photo by <a href=\"https://unsplash.com/@louisnardsophie\">Sophie Louisnard</a> on <a href=\"https://unsplash.com\">Unsplash</a></figcaption></p>\n<h2 id=\"step-1-clarify-the-requirements\" style=\"position:relative;\"><a href=\"#step-1-clarify-the-requirements\" aria-label=\"step 1 clarify the requirements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: Clarify the requirements</h2>\n<p>Even if the question is “Design Instagram”, and you already mastered it during preparation, don’t jump to the solution just yet. It will be a 99% rejection for a senior position. Start clarifying the requirements and listing down the features</p>\n<ul>\n<li>Who is going to use it?</li>\n<li>What’s the expected number of users</li>\n<li>What’s the expected number of requests per second</li>\n<li>Which countries/languages are we supporting</li>\n<li>Any privacy/GDPR concerns</li>\n<li>\n<p>What features do we want</p>\n<ul>\n<li>Should we support image, video, or both</li>\n<li>Do we need Follow/Unfollow</li>\n<li>Do we need instant messaging</li>\n<li>What about comments, likes, hashtags, etc</li>\n</ul>\n</li>\n<li>What are non-functional requirements: Scalability, Availability, Fault tolerance, etc</li>\n</ul>\n<p>You might feel strange asking all these questions for a widely known app. But please don’t, and ask even very obvious questions. After this part, you’ll get a tick in the interviewer’s notes: “Deals with ambiguity and asks questions to clarify the problem: check”.</p>\n<h2 id=\"step-2-define-entities\" style=\"position:relative;\"><a href=\"#step-2-define-entities\" aria-label=\"step 2 define entities permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 2: Define Entities</h2>\n<p>Before throwing all those boxes: “Service X”, “Service Y”, “Service Z” and their interactions, just take a step back and define what kind of entities you need. Some people prefer defining the APIs first, but I feel more comfortable figuring out the main entities first and defining APIs around those.</p>\n<p>Based on the requirements and features you discussed in the previous step, start listing down the entities and what fields they have. For example, you can start with something like this</p>\n<ul>\n<li>Post: postId, content, mediaType, mediaLink, userId, creationDate</li>\n<li>User: userId, username, profilePhoto</li>\n<li>Relationship: followerUserId, followeeUserId</li>\n</ul>\n<h2 id=\"step-3-define-apis\" style=\"position:relative;\"><a href=\"#step-3-define-apis\" aria-label=\"step 3 define apis permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: Define APIs</h2>\n<p>List of the features you collected in step 1 and the entities you defined in step 2 will construct your APIs here. Let’s say the interviewer requested the following features</p>\n<ul>\n<li>Post images only</li>\n<li>Allow user to edit the post</li>\n<li>Support follow/unfollow</li>\n<li>News-feed to see all the posts from all users</li>\n</ul>\n<p>Based on that info, the APIs you’re going to need will be something like below (I know there is another 1M way of doing this):</p>\n<ul>\n<li>\n<p>/posts: Returns all the posts (probably paginated for infinite scroll)</p>\n<ul>\n<li>method: GET</li>\n<li>\n<p>input: GetPostsRequest</p>\n<ul>\n<li>lastPostId for pagination</li>\n<li>numberOfItems</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>/posts: Creates a new post</p>\n<ul>\n<li>method: POST</li>\n<li>\n<p>input: CreatePostRequest</p>\n<ul>\n<li>content,</li>\n<li>mediaType and mediaLink or the file itself if you’re not uploading it to the CDN directly from the UI</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>/posts/{postId}: Updates an existing post</p>\n<ul>\n<li>method: POST</li>\n<li>input: UpdatePostRequest - similar to CreatePostRequest with a postId</li>\n</ul>\n</li>\n<li>\n<p>/relationships/{userId}: Follows/Unfollows a user</p>\n<ul>\n<li>method: POST</li>\n<li>\n<p>input RelationshipRequest</p>\n<ul>\n<li>followeeId</li>\n<li>followed (true to follow, false to unfollow, or you can create a DELETE method to unfollow and remove this flag)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>It might be a good idea to mention that in step2 you designed DB entities while here you’ll use API entities that are similar to DB entities with small differences:</p>\n<ul>\n<li>postId will be generated at the backend, so it will not be part of the CreatePostRequest</li>\n<li>same for userId, it will most likely be extracted from some encrypted token coming in the header</li>\n</ul>\n<h2 id=\"step-4-draw-high-level-architecture\" style=\"position:relative;\"><a href=\"#step-4-draw-high-level-architecture\" aria-label=\"step 4 draw high level architecture permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 4: Draw High-level Architecture</h2>\n<p>Now, it’s the right time to start drawing those boxes and show off your microservice architecture skills. First, define the main components you’re going to need, and add things like “Management”, “Authority”, “Processor” etc in the service name ;)</p>\n<ul>\n<li>AuthService</li>\n<li>UserManagementService</li>\n<li>RelationshipAuthorityService</li>\n<li>PostManagementService</li>\n</ul>\n<p>A common approach is putting a Gateway that users will talk to, and initiate calls to your backend services from this gateway. For example, to create a new post, send your HTTP request to the Gateway, and Gateway will first talk to AuthService to extract the user info and make sure the user is authenticated/authorized and then call PostManagementService to create the post. Your diagram will look something like this:\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/df76b97cad0366c2071196a0d307d519/7fc9f/design.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 782px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 70.97186700767263%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd5VIxB//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQABBQJf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERITFBcf/aAAgBAQABPyFsqcnBjl7FSP/aAAwDAQACAAMAAAAQQM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAACAwEBAAAAAAAAAAAAAAABEQAhcUEx/9oACAEBAAE/EAoX2NNMUJBsqgBDYxwMgIHs/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"design\"\n        title=\"\"\n        src=\"/static/df76b97cad0366c2071196a0d307d519/7fc9f/design.jpg\"\n        srcset=\"/static/df76b97cad0366c2071196a0d307d519/3bc27/design.jpg 240w,\n/static/df76b97cad0366c2071196a0d307d519/98431/design.jpg 480w,\n/static/df76b97cad0366c2071196a0d307d519/7fc9f/design.jpg 782w\"\n        sizes=\"(max-width: 782px) 100vw, 782px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>After this point, start throwing all system design concepts you know:</p>\n<ul>\n<li>Put a CDN here to serve JS/CSS files</li>\n<li>Another CDN there to store media files like images and videos</li>\n<li>Put a LoadBalancer in front of AuthService as all requests will have to talk to AuthService first and you need to scale it out and make it fault-tolerant</li>\n<li>If AuthService DB is having a bad day, your product might be completely unusable, so let’s add some replication and sharding for that DB</li>\n<li>Since it’s a public feed and everyone will see the same feed, there is no need to query PostManagementService DB every time, put a cache in front of it to make feed rendering super fast</li>\n<li>If you need notifications for things like new followers, likes, etc, that’s a great place to show your pub/sub and message queue knowledge. Publish events from RelationshipAurhorityService for follow/unfollow actions and PostManagementService for new posts, and subscribe to those with a message queue that will be consumed by NotificationService</li>\n<li>For transient issues in some systems, add retries with exponential backoff for service calls. Add meaningful timeouts so that you don’t wait for minutes to get a simple response.</li>\n<li>Show where the system might fail and how you can fix the single point of failure in the system. When you say I’ll have multiple nodes for AuthService and a LoadBalancer in front to not have a single point of failure, the interviewer might ask “What if Load Balancer fails?”(in case you’re curious, you can have multiple nodes for LoadBalancer as well and use DNS Round-robin). So, ask yourself where the system can fail while designing and show the interviewer that you also consider these kinds of things.</li>\n</ul>\n<p>Please note experienced interviewers will dive deep into these concepts. So, make sure you know what they do, how they work, and the advantages/disadvantages between different approaches.</p>\n<h2 id=\"step-5-monitor-the-system-health\" style=\"position:relative;\"><a href=\"#step-5-monitor-the-system-health\" aria-label=\"step 5 monitor the system health permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 5: Monitor the System Health</h2>\n<p>If all went smoothly, you might have some time in the end. At this point, the interviewer will most likely ask how you measure the system health, what kind of things you monitor.</p>\n<p>A common approach is having monitors like below and creating alarms with some threshold for each, which will notify the team automatically if something is wrong. This is not the exhaustive list for a service you’re launching to production, but it should be enough for the interviewer.</p>\n<ul>\n<li>Latency/Number of request/Error/Fault count for all incoming API calls to your service and all outgoing API calls from your service to others (service, DB, etc).</li>\n<li>Disk, Memory CPU usage, and utilization for each node of the service</li>\n<li>If you use things like message queues etc, you can monitor things like the number of messages in the queue, the oldest message in the queue, etc.</li>\n</ul>\n<h2 id=\"summary\" style=\"position:relative;\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>Here are all the steps. Write it on a paper, put it next to your screen, and keep practicing.</p>\n<ul>\n<li>Step 1: Clarify the requirements</li>\n<li>Step 2: Define Entities</li>\n<li>Step 3: Define APIs</li>\n<li>Step 4: Draw High-level Architecture</li>\n<li>Step 5: Monitor the System Health</li>\n</ul>\n<p>Good luck with your interview!</p>","headings":[{"value":"Step 1: Clarify the requirements","depth":2},{"value":"Step 2: Define Entities","depth":2},{"value":"Step 3: Define APIs","depth":2},{"value":"Step 4: Draw High-level Architecture","depth":2},{"value":"Step 5: Monitor the System Health","depth":2},{"value":"Summary","depth":2}],"tableOfContents":"<ul>\n<li><a href=\"/posts/how-to-succeed-in-your-system-design-interview/#step-1-clarify-the-requirements\">Step 1: Clarify the requirements</a></li>\n<li><a href=\"/posts/how-to-succeed-in-your-system-design-interview/#step-2-define-entities\">Step 2: Define Entities</a></li>\n<li><a href=\"/posts/how-to-succeed-in-your-system-design-interview/#step-3-define-apis\">Step 3: Define APIs</a></li>\n<li><a href=\"/posts/how-to-succeed-in-your-system-design-interview/#step-4-draw-high-level-architecture\">Step 4: Draw High-level Architecture</a></li>\n<li><a href=\"/posts/how-to-succeed-in-your-system-design-interview/#step-5-monitor-the-system-health\">Step 5: Monitor the System Health</a></li>\n<li><a href=\"/posts/how-to-succeed-in-your-system-design-interview/#summary\">Summary</a></li>\n</ul>","fields":{"tagSlugs":["/tags/system-design/","/tags/interview/","/tags/senior/","/tags/design/","/tags/faang/"],"slug":"/posts/how-to-succeed-in-your-system-design-interview/"},"frontmatter":{"title":"How to Succeed in Your System Design Interview","tags":["system design","interview","senior","design","FAANG"],"date":"2021-01-13","description":"System design questions can be asked for any level with different expectations from the candidate, but to get a Senior offer, you have to rock this round. Practice makes perfect - like for anything else, it applies to system design interviews too. So, keep practicing without taking shortcuts, practice as if it’s the real interview, and always follow the same steps to make it perfect.","canonical":null}}},"pageContext":{"slug":"/posts/how-to-succeed-in-your-system-design-interview/"}},"staticQueryHashes":[]}